–û–≥–ª–∞–≤–ª–µ–Ω–∏–µ –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ ................................................................................................................................................. 2 –¶–µ–ª—å —Ä–∞–±–æ—Ç—ã: .............................................................................................................................................. 3 –•–æ–¥ —Ä–∞–±–æ—Ç—ã: ................................................................................................................................................ 3 1. –î–∏—Å–∫—Ä–µ—Ç–Ω–æ–µ –∫–æ—Å–∏–Ω—É—Å–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ ........................................................................................... 3 1.1. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –ø—Ä—è–º–æ–≥–æ –∏ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –î–ö–ü –¥–ª—è –±–ª–æ–∫–æ–≤ NxN.................................... 4 2. –ö–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏–µ —Å–ø–µ–∫—Ç—Ä–∞–ª—å–Ω—ã—Ö –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ .................................................................................. 8 2.1–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ–¥—É—Ä –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏—è –∏ –¥–µ–∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏—è ............................................................... 8 2.2. –û—Ü–µ–Ω–∫–∞ –≤–ª–∏—è–Ω–∏—è –∏—Å–∫–∞–∂–µ–Ω–∏–π, –≤–Ω–æ—Å–∏–º—ã—Ö –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏–µ–º, –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —ç—Ç–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π. ........................................................................................................................................ 15 3. –°–∂–∞—Ç–∏–µ –±–µ–∑ –ø–æ—Ç–µ—Ä—å ............................................................................................................................... 16 3.1 –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –∫–≤–∞–Ω—Ç–æ–≤—ã—Ö –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ç–æ–∫–∞ DC ................................................................................................................................................................. 16 3.2 –û—Ü–µ–Ω–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ä–∞–∑–Ω–æ—Å—Ç–Ω–æ–≥–æ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è ................................................................ 17 3.3. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª–∏–Ω–∞–º–∏ —Å–µ—Ä–∏–π (RLE). .............................................. 25 3.4. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–π —Ä–∞–∑–º–µ—Ä–æ–≤ –≤ —Å–∂–∞—Ç–æ–º –±–∏—Ç–æ–≤–æ–º –ø–æ—Ç–æ–∫–µ. ........................................ 26 –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ: ...................................................................................................................... 28 –í—ã–≤–æ–¥—ã ...................................................................................................................................................... 30 –õ–∏—Å—Ç–∏–Ω–≥ –ø—Ä–æ–≥—Ä–∞–º–º—ã ............................................................................................................................... 31     –¶–µ–ª—å —Ä–∞–±–æ—Ç—ã:   –ò–∑—É—á–µ–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –≤ –±–∞–∑–æ–≤–æ–º —Ä–µ–∂–∏–º–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ JPEG, –∞–Ω–∞–ª–∏–∑ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö —Å–≤–æ–π—Å—Ç–≤, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø—Ä–∏ —Å–∂–∞—Ç–∏–∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ –¥–∏—Å–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ—Å–∏–Ω—É—Å–Ω–æ–≥–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è, –∞ —Ç–∞–∫–∂–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –Ω–∞–≤—ã–∫–æ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–µ—Ç–æ–¥–æ–≤ –±–ª–æ–∫–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–∏ —Å–∂–∞—Ç–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è. –•–æ–¥ —Ä–∞–±–æ—Ç—ã: 1. –î–∏—Å–∫—Ä–µ—Ç–Ω–æ–µ –∫–æ—Å–∏–Ω—É—Å–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –ü—Ä–æ—Ü–µ–¥—É—Ä—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –î–ö–ü –Ω–∞–≥–ª—è–¥–Ω–µ–µ –æ–ø–∏—Å—ã–≤–∞—Ç—å –≤ —Ñ–æ—Ä–º–µ –º–∞—Ç—Ä–∏—á–Ω–æ–≥–æ —É–º–Ω–æ–∂–µ–Ω–∏—è. –ú–∞—Ç—Ä–∏—Ü—É –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¢ –ø—Ä–∏–Ω—è—Ç–æ –Ω–∞–∑—ã–≤–∞—Ç—å —è–¥—Ä–æ–º. –°—Ç—Ä–æ–∫–∏ –º–∞—Ç—Ä–∏—Ü—ã –¢ —Å–æ—Å—Ç–æ—è—Ç –∏–∑ –≤–µ–∫—Ç–æ—Ä–æ–≤, –æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∫–æ—Å–∏–Ω—É—Å–æ–≤ ‚àöùê∂ùëìcos‚Å°(ùúÉùë°ùëì), –≥–¥–µ ùëì ‚Äì –Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏ –∏ –∑–Ω–∞—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –∫–æ—Å–∏–Ω—É—Å–∞, ùê∂ùëì ‚Äì –Ω–æ—Ä–º–∏—Ä—É—é—â–∏–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∏ ùúÉùë° ‚Äì –ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ t-–æ–≥–æ –æ—Ç—Å—á–µ—Ç–∞, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ ùúÉùë°=(2ùë°+1)ùúã2ùëÅ‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°(1.1)   –ù–æ—Ä–º–∏—Ä—É—é—â–∏–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç ùê∂ùëì –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —á–∞—Å—Ç–æ—Ç—ã ùëì –∏ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:  ùê∂ùëì={1ùëÅ,–µ—Å–ª–∏‚Å°ùëì=02ùëÅ,–∏–Ω–∞—á–µ‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°(1.2) –ó–Ω–∞—á–µ–Ω–∏—è –º–∞—Ç—Ä–∏—Ü—ã –¢ –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º: ùë°ùëì,ùë°=‚àöùê∂ùëìcos((2ùë°+1)ùúã2ùëÅùëì)‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°(1.3)  –ü—Ä—è–º–æ–µ –∏ –æ–±—Ä–∞—Ç–Ω–æ–µ –î–ö–ü –¥–ª—è –¥–≤—É–º–µ—Ä–Ω–æ–≥–æ —Å–ª—É—á–∞—è –≤ –º–∞—Ç—Ä–∏—á–Ω–æ–π —Ñ–æ—Ä–º–µ –≤—ã–≥–ª—è–¥—è—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º: ùëå=(ùëá‚àôùëã)‚àôùëáùëá‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°(1.4) ùëã=(ùëáùëá‚àôùëå)‚àôùëá‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°(1.5) –≥–¥–µ X –∏ Y —è–≤–ª—è—é—Ç—Å—è –º–∞—Ç—Ä–∏—Ü–∞–º–∏ —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏ N√óN.  1.1. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –ø—Ä—è–º–æ–≥–æ –∏ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –î–ö–ü –¥–ª—è –±–ª–æ–∫–æ–≤ NxN. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ–¥—É—Ä—É –ø—Ä—è–º–æ–≥–æ –∏ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –î–ö–ü, –∞ —Ç–∞–∫–∂–µ –æ—Ü–µ–Ω–∏—Ç—å –≤–Ω–æ—Å–∏–º—ã–µ —ç—Ç–æ–π –ø—Ä–æ—Ü–µ–¥—É—Ä–æ–π –∏—Å–∫–∞–∂–µ–Ω–∏—è. –û–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ–æ—Ä–º—É–ª—ã –ø—Ä—è–º–æ–≥–æ –∏ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–µ JPEG –≤—ã–≥–ª—è–¥—è—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º: ùë¶ùëò,ùëô=‚àöùê∂ùëò‚àöùê∂ùëô‚àô‚àë‚àëùë•ùëñ,ùëóùëÅ‚àí1ùëó=0ùëÅ‚àí1ùëñ=0cos((2ùëñ+1)ùúã2ùëÅùëò)cos((2ùëó+1)ùúã2ùëÅùëô)‚Å°‚Å°‚Å°‚Å°(1.6) ùë•ùëñ,ùëó=‚àë‚àë‚àöùê∂ùëò‚àöùê∂ùëô‚àôùë¶ùëò,ùëôùëÅ‚àí1ùëó=0ùëÅ‚àí1ùëñ=0cos((2ùëñ+1)ùúã2ùëÅùëò)cos((2ùëó+1)ùúã2ùëÅùëô)‚Å°‚Å°‚Å°‚Å°(1.7) –≥–¥–µ k, l, i, j = 0, ‚Ä¶ , N-1. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –æ—Ü–µ–Ω–∫–∞ –∏—Å–∫–∞–∂–µ–Ω–∏–π: ‚Ä¢ MyImage  –†–∏—Å—É–Ω–æ–∫ 1 –ò—Å—Ö–æ–¥–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (MyImage)  –†–∏—Å—É–Ω–æ–∫ 2 –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ—Å–ª–µ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –î–ö–ü (MyImage) –ó–Ω–∞—á–µ–Ω–∏—è PSNR: Y PSNR: 58.8951 Cb PSNR: 59.0586 Cr PSNR: 59.4169 ‚Ä¢ baboon  –†–∏—Å—É–Ω–æ–∫ 3 –ò—Å—Ö–æ–¥–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (baboon)  –†–∏—Å—É–Ω–æ–∫ 4 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ—Å–ª–µ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –î–ö–ü (baboon) –ó–Ω–∞—á–µ–Ω–∏—è PSNR: Y PSNR: 58.9312 Cb PSNR: 58.9111 Cr PSNR: 58.9088 ‚Ä¢ lena  –†–∏—Å—É–Ω–æ–∫ 5 –ò—Å—Ö–æ–¥–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (lena)  –†–∏—Å—É–Ω–æ–∫ 6 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ—Å–ª–µ –î–ö–ü (lena) –ó–Ω–∞—á–µ–Ω–∏—è PSNR: Y PSNR: 58.8989 Cb PSNR: 58.9114 Cr PSNR: 58.8717   –ü–æ –ø–æ–ª—É—á–µ–Ω–Ω—ã–º –∫–∞—Ä—Ç–∏–Ω–∫–∞–º, –≤–∏–¥–∏–º—ã—Ö –∏—Å–∫–∞–∂–µ–Ω–∏–π –ø–æ—Å–ª–µ –ø—Ä—è–º–æ–≥–æ –∏ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –î–ö–ü –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ, –æ–± —ç—Ç–æ–º —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤—É–µ—Ç –∏ –≤—ã—Å–æ–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è PSNR. –ù–µ–±–æ–ª—å—à–∏–µ –ø–æ—Ç–µ—Ä–∏ –º–æ–≥–ª–∏ –≤—ã–∑–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ä–∞–±–æ—Ç–∞ —Å –¥—Ä–æ–±–Ω—ã–º–∏ —á–∏—Å–ª–∞–º–∏ –∏ –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ –¥–æ —Ü–µ–ª—ã—Ö –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ –≤ RGB.   2. –ö–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏–µ —Å–ø–µ–∫—Ç—Ä–∞–ª—å–Ω—ã—Ö –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤   –í —Å—Ç–∞–Ω–¥–∞—Ä—Ç–µ JPEG –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Å–∫–∞–ª—è—Ä–Ω–æ–µ –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏–µ. –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ —à–∞–≥–∞ –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–π –ø–æ–ª–æ—Å—ã (k, l). –®–∞–≥–∏ –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª–æ—Å –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –≤ –º–∞—Ç—Ä–∏—Ü—É –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏—è Q, –∫–æ—Ç–æ—Ä–∞—è —Ç–∞–∫–∂–µ –∏–º–µ–µ—Ç —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å 8√ó8.   –ü–æ—Å–∫–æ–ª—å–∫—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å–ø–µ–∫—Ç—Ä–æ–≤ —Ü–≤–µ—Ç–æ—Ä–∞–∑–Ω–æ—Å—Ç–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ —Ü–µ–ª–æ–º –ø–æ—Ö–æ–∂–∏ –∏ —Å–∏–ª—å–Ω–æ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –æ—Ç —Å–ø–µ–∫—Ç—Ä–∞ —è—Ä–∫–æ—Å—Ç–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –¥–≤–µ —Ç–∞–±–ª–∏—Ü—ã –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏—è: Qluma –¥–ª—è —è—Ä–∫–æ—Å—Ç–Ω–æ–π —Å–æ—Å—Ç–∞–≤–ª—è—é—â–µ–π –∏ Qchroma –¥–ª—è –¥–≤—É—Ö —Ü–≤–µ—Ç–æ—Ä–∞–∑–Ω–æ—Å—Ç–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.   2.1–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ–¥—É—Ä –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏—è –∏ –¥–µ–∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏—è   –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ–¥—É—Ä—É –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏—è –∏ –¥–µ–∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏—è. –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏—è —Å–ø–µ–∫—Ç—Ä–∞–ª—å–Ω—ã—Ö –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ Yi,j –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º: ùëåùëñ,ùëóùëû=ùëüùëúùë¢ùëõùëë(ùëåùëñ,ùëóùëûùëñ,ùëó(ùëê))‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°(2.1) –≥–¥–µ ùëûùëñ,ùëó(ùëê) ‚Äì —à–∞–≥ –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è —ç–ª–µ–º–µ–Ω—Ç–æ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –º–∞—Ç—Ä–∏—Ü—ã ùëÑ(ùëê).  –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—é –±—É–¥—É—Ç –ø–æ–¥–≤–µ—Ä–≥–∞—Ç—å—Å—è –∏–º–µ–Ω–Ω–æ –Ω–æ–º–µ—Ä–∞ –∫–≤–∞–Ω—Ç–æ–≤ ùëåùëñ,ùëóùëû, –∞ –∞–ø–ø—Ä–æ–∫—Å–∏–º–∏—Ä—É—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ –∫–≤–∞–Ω—Ç–∞ ùëåùëñ,ùëóùëëùëû –±—É–¥—É—Ç –≤—ã—á–∏—Å–ª—è—Ç—å—Å—è –ø—Ä–∏ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–∞–∫ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ –∫–≤–∞–Ω—Ç–∞ –∏ —à–∞–≥–∞ –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏—è:  ùëåùëñ,ùëóùëû=ùëåùëñ,ùëóùëëùëû‚àôùëûùëñ,ùëó(ùëê)‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°(2.2)  –≥–¥–µ i, j = 0, ‚Ä¶, 7.  –ú–∞—Ç—Ä–∏—Ü—ã –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏—è –±—É–¥—É—Ç —Å—Ç—Ä–æ–∏—Ç—å—Å—è –ø–æ —Ñ–æ—Ä–º—É–ª–µ:  ùëûùëñ,ùëóùëå(ùëÖ)=1+(ùëñ+ùëü)‚àôùëÖ‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°(2.3)  –≥–¥–µ R ‚Äî —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä, —É–ø—Ä–∞–≤–ª—è—é—â–∏–π –∫–∞—á–µ—Å—Ç–≤–æ–º –æ–±—Ä–∞–±–æ—Ç–∫–∏.   –ö–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏–µ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ —Å –ø–æ–º–æ—â—å—é –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –º–∞—Ç—Ä–∏—Ü –ø—Ä–∏ –∑–Ω–∞—á–µ–Ω–∏–∏ R –æ—Ç 1 –¥–æ 10.  –†–∏—Å—É–Ω–æ–∫ 7 –ó–Ω–∞—á–µ–Ω–∏—è PSNR –ø—Ä–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö R –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è MyImage  –†–∏—Å—É–Ω–æ–∫ 8 –ó–Ω–∞—á–µ–Ω–∏—è PSNR –ø—Ä–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö R –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è Lena  –†–∏—Å—É–Ω–æ–∫ 9 –ó–Ω–∞—á–µ–Ω–∏—è PSNR –ø—Ä–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö R –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è Baboon –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:  –†–∏—Å—É–Ω–æ–∫ 10 –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ MyImage –ø—Ä–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏—è R=1  –†–∏—Å—É–Ω–æ–∫ 11 –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ MyImage –ø—Ä–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏—è R=5  –†–∏—Å—É–Ω–æ–∫ 12 –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ MyImage –ø—Ä–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏—è R=10  –†–∏—Å—É–Ω–æ–∫ 13 –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ Lena –ø—Ä–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏—è R=1  –†–∏—Å—É–Ω–æ–∫ 14 –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ Lena –ø—Ä–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏—è R=5  –†–∏—Å—É–Ω–æ–∫ 15 –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ Lena –ø—Ä–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏—è R=10  –†–∏—Å—É–Ω–æ–∫ 16 –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ Baboon –ø—Ä–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏—è R=1  –†–∏—Å—É–Ω–æ–∫ 17 –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ Baboon –ø—Ä–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏—è R=5  –†–∏—Å—É–Ω–æ–∫ 18 –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ Baboon –ø—Ä–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏—è R=10   2.2. –û—Ü–µ–Ω–∫–∞ –≤–ª–∏—è–Ω–∏—è –∏—Å–∫–∞–∂–µ–Ω–∏–π, –≤–Ω–æ—Å–∏–º—ã—Ö –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏–µ–º, –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —ç—Ç–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π. –ù–∞ –≥—Ä–∞—Ñ–∏–∫–∞—Ö –≤–∏–¥–Ω–æ, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ PSNR –¥–ª—è —è—Ä–∫–æ—Å—Ç–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –º–µ–¥–ª–µ–Ω–Ω–æ —Å —É–≤–µ–ª–∏—á–µ–Ω–∏–µ–º R. –ê –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Cb –∏ Cr –∑–Ω–∞—á–µ–Ω–∏–µ PSNR —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –µ—â–µ –º–µ–¥–ª–µ–Ω–Ω–µ–µ. –≠—Ç–æ —Å–≤—è–∑–∞–Ω–Ω–æ —Å —Ç–µ–º, —á—Ç–æ Y —Å–æ–¥–µ—Ä–∂–∏—Ç –±–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏. –ò—Å–∫–∞–∂–µ–Ω–∏—è, –≤–Ω–æ—Å–∏–º—ã–µ –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏–µ–º, –º–æ–∂–Ω–æ —Ä–∞–∑–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–∏ –∫–∞—Ä—Ç–∏–Ω–æ–∫: –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –∫–≤–∞–¥—Ä–∞—Ç–∏–∫–æ–≤ –∏ –∏–∑-–∑–∞ —ç—Ç–æ–≥–æ –∫–æ–Ω—Ç—É—Ä—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –Ω–µ—á–µ—Ç–∫–∏–º–∏, —á—Ç–æ –≤–∏–¥–Ω–æ –Ω–∞ —Ä–∏—Å. 19, 20 –∏ 21.    –†–∏—Å—É–Ω–æ–∫ 19 –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è(—Å–ª–µ–≤–∞) MyImage —Å –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏–µ–º (—Å–ø—Ä–∞–≤–∞) –ø—Ä–∏ R=10 (–º–∞—Å—à—Ç–∞–± 279)   –†–∏—Å—É–Ω–æ–∫ 20 –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è(—Å–ª–µ–≤–∞) Lena —Å –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏–µ–º (—Å–ø—Ä–∞–≤–∞) –ø—Ä–∏ R=10 (–º–∞—Å—à—Ç–∞–± 279)   –†–∏—Å—É–Ω–æ–∫ 21 –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è(—Å–ª–µ–≤–∞) Baboon —Å –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏–µ–º (—Å–ø—Ä–∞–≤–∞) –ø—Ä–∏ R=10 (–º–∞—Å—à—Ç–∞–± 246) 3. –°–∂–∞—Ç–∏–µ –±–µ–∑ –ø–æ—Ç–µ—Ä—å  –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è –∑–∞–≤–µ—Ä—à–∞—é—â–∏–º —ç—Ç–∞–ø–æ–º —Ä–∞–±–æ—Ç—ã –∫–æ–¥–µ—Ä–∞ JPEG, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏—Ç–æ–≥–æ –ø–æ—Ç–æ–∫–∞. –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –∏ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π: 1. –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ç–æ–∫–∞ DCq. 2. –ü–µ—Ä–µ–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ 63 –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ç–æ–∫–∞ ACq –∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–¥–Ω–æ–º–µ—Ä–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å –∑–∏–≥–∑–∞–≥–æ–æ–±—Ä–∞–∑–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é. 3. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª–∏–Ω —Å–µ—Ä–∏–π –¥–ª—è –¥–ª—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏–∑ 63 ACq –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤. 4. –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä (Run, Level).   3.1 –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –∫–≤–∞–Ω—Ç–æ–≤—ã—Ö –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ç–æ–∫–∞ DC  –î–ª—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è ùê∑ùê∂ùëû –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–∞–∑–Ω–æ—Å—Ç–Ω—ã–π –º–µ—Ç–æ–¥. –î–∞–ª—å–Ω–µ–π—à–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–µ –ø–æ–¥–≤–µ—Ä–≥–∞–µ—Ç—Å—è —Ä–∞–∑–Ω–æ—Å—Ç—å ùê∑ùê∂ùëû –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ —Ç–µ–∫—É—â–µ–≥–æ –∏ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º–æ–≥–æ –±–ª–æ–∫–æ–≤: ‚àÜùê∑ùê∂=ùê∑ùê∂ùëñùëû‚àíùê∑ùê∂ùëñ‚àí1ùëû,‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°‚Å°(3.1)  –≥–¥–µ ùëñ ‚Äì –Ω–æ–º–µ—Ä —Ç–µ–∫—É—â–µ–≥–æ –±–ª–æ–∫–∞.   –ó–Ω–∞—á–µ–Ω–∏–µ ‚àÜùê∑ùê∂ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º–µ –±–∏—Ç–æ–≤–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ BC –∏ –∞–º–ø–ª–∏—Ç—É–¥—ã MG, –≥–¥–µ –±–∏—Ç–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è –æ—Ç –∑–Ω–∞—á–µ–Ω–∏—è —Ö –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∫–∞–∫: ùêµùê∂(ùë•)=‚åàlog|ùë•|+1‚åâ,                                             (3.2) –∞ –∑–Ω–∞—á–µ–Ω–∏–µ –∞–º–ø–ª–∏—Ç—É–¥—ã ‚Äì —Å–∞–º–æ –∫–æ–¥–∏—Ä—É–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. 3.2 –û—Ü–µ–Ω–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ä–∞–∑–Ω–æ—Å—Ç–Ω–æ–≥–æ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è  –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—ã —á–∞—Å—Ç–æ—Ç f(DCq) –∏ f(‚àÜDC), –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –¥–ª—è –±–ª–æ–∫–æ–≤ 8√ó8 —è—Ä–∫–æ—Å—Ç–Ω–æ–π —Å–æ—Å—Ç–∞–≤–ª—è—é—â–µ–π —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –≤—ã—á–∏—Å–ª–∏—Ç—å –æ—Ü–µ–Ω–∫–∏ —ç–Ω—Ç—Ä–æ–ø–∏–∏. ‚óè –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º—ã —á–∞—Å—Ç–æ—Ç –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è MyImage:   –†–∏—Å—É–Ω–æ–∫ 22 –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ —á–∞—Å—Ç–æ—Ç f(DC^q) –ø–æ Y.  –†–∏—Å—É–Ω–æ–∫ 23 –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ —á–∞—Å—Ç–æ—Ç f(ŒîDC) –ø–æ Y.  –†–∏—Å—É–Ω–æ–∫ 24 –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ —á–∞—Å—Ç–æ—Ç f(DC^q) –ø–æ Cb.  –†–∏—Å—É–Ω–æ–∫ 25 –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ —á–∞—Å—Ç–æ—Ç f(ŒîDC) –ø–æ Cb.  –†–∏—Å—É–Ω–æ–∫ 26 –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ —á–∞—Å—Ç–æ—Ç f(DC^q) –ø–æ Cr.  –†–∏—Å—É–Ω–æ–∫ 27 –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ —á–∞—Å—Ç–æ—Ç f(ŒîDC) –ø–æ Cr. ‚óè –ó–Ω–∞—á–µ–Ω–∏—è —ç–Ω—Ç—Ä–æ–ø–∏–∏:  –†–∏—Å—É–Ω–æ–∫ 28 –ó–Ω–∞—á–µ–Ω–∏—è —ç–Ω—Ç—Ä–æ–ø–∏–∏ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è MyImage  ‚óè –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º—ã —á–∞—Å—Ç–æ—Ç –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è ‚ÄúLena ‚Äù:   –†–∏—Å—É–Ω–æ–∫ 29 –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ —á–∞—Å—Ç–æ—Ç f(DC^q) –ø–æ Y.  –†–∏—Å—É–Ω–æ–∫ 30 –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ —á–∞—Å—Ç–æ—Ç f(ŒîDC) –ø–æ Y.  –†–∏—Å—É–Ω–æ–∫ 31 –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ —á–∞—Å—Ç–æ—Ç f(DC^q) –ø–æ Cb.  –†–∏—Å—É–Ω–æ–∫ 32 –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ —á–∞—Å—Ç–æ—Ç f(ŒîDC) –ø–æ Cb.  –†–∏—Å—É–Ω–æ–∫ 33 –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ —á–∞—Å—Ç–æ—Ç f(DC^q) –ø–æ Cr.  –†–∏—Å—É–Ω–æ–∫ 34 –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ —á–∞—Å—Ç–æ—Ç f(ŒîDC) –ø–æ Cr. ‚óè –ó–Ω–∞—á–µ–Ω–∏—è —ç–Ω—Ç—Ä–æ–ø–∏–∏:  –†–∏—Å—É–Ω–æ–∫ 35 –ó–Ω–∞—á–µ–Ω–∏—è —ç–Ω—Ç—Ä–æ–ø–∏–∏ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è Lena ‚óè –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º—ã —á–∞—Å—Ç–æ—Ç –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è ‚ÄúBaboon‚Äù:   –†–∏—Å—É–Ω–æ–∫ 36 –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ —á–∞—Å—Ç–æ—Ç f(DC^q) –ø–æ Y.  –†–∏—Å—É–Ω–æ–∫ 37 –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ —á–∞—Å—Ç–æ—Ç f(ŒîDC) –ø–æ Y.  –†–∏—Å—É–Ω–æ–∫ 38 –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ —á–∞—Å—Ç–æ—Ç f(DC^q) –ø–æ Cb.  –†–∏—Å—É–Ω–æ–∫ 39 –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ —á–∞—Å—Ç–æ—Ç f(ŒîDC) –ø–æ Cb.  –†–∏—Å—É–Ω–æ–∫ 40 –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ —á–∞—Å—Ç–æ—Ç f(DC^q) –ø–æ Cr.  –†–∏—Å—É–Ω–æ–∫ 41 –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ —á–∞—Å—Ç–æ—Ç f(ŒîDC) –ø–æ Cr. ‚óè –ó–Ω–∞—á–µ–Ω–∏—è —ç–Ω—Ç—Ä–æ–ø–∏–∏:  –†–∏—Å—É–Ω–æ–∫ 42 –ó–Ω–∞—á–µ–Ω–∏—è —ç–Ω—Ç—Ä–æ–ø–∏–∏ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è Baboon  –ü–æ —ç—Ç–∏–º –¥–∞–Ω–Ω—ã–º –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤—ã–≤–æ–¥, —á—Ç–æ —Ä–∞–∑–Ω–æ—Å—Ç–Ω–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —É–º–µ–Ω—å—à–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ —ç–Ω—Ç—Ä–æ–ø–∏–∏, –∏–∑ —á–µ–≥–æ —Å–ª–µ–¥—É–µ—Ç, —á—Ç–æ –∫–∞—á–µ—Å—Ç–≤–æ —Å–∂–∞—Ç–∏—è –ª—É—á—à–µ. –≠—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å —Ç–µ–º, —á—Ç–æ –ø—Ä–∏ —Ä–∞–∑–Ω–æ—Å—Ç–Ω–æ–º –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω—É–ª–µ–π –∏ –∑–Ω–∞—á–µ–Ω–∏–π –æ–∫–æ–ª–æ –Ω—É–ª—è –¥–ª—è –º–∞—Å—Å–∏–≤–∞ ùõ•ùê∑ùê∂, —á—Ç–æ –≤–∏–¥–Ω–æ –∏–∑ –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º. 3.3. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª–∏–Ω–∞–º–∏ —Å–µ—Ä–∏–π (RLE). –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –ø—É–Ω–∫—Ç–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ ACq –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å –¥–ª–∏–Ω–∞–º–∏ —Å–µ—Ä–∏–π. –î–∞–Ω–Ω—ã–π —ç—Ç–∞–ø –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 3 —á–∞—Å—Ç–µ–π: 1) –ü–µ—Ä–µ–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ç–æ–∫–∞ ACq –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∑–∏–≥–∑–∞–≥–æ–æ–±—Ä–∞–∑–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å. 2) –≠—Ç–∞–ø –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª–∏–Ω —Å–µ—Ä–∏–∏, –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –ø—Ä–µ–¥—ã–¥—É—â–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ –Ω–æ–≤—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Å–æ—Å—Ç–æ—è—â—É—é –∏–∑ –ø–∞—Ä (Run, Level). Run –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —á–∏—Å–ª–æ –Ω—É–ª–µ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤ —Å–µ—Ä–∏–∏, –∞ Level ‚Äî –Ω–µ–Ω—É–ª–µ–≤–æ–π –∑–∞–≤–µ—Ä—à–∞—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç —Å–µ—Ä–∏–∏. –ï—Å–ª–∏ –≤ —Å—Ç–∞—Ä–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–µ –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–µ–Ω—É–ª–µ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π, —Ç–æ –≤ –∫–æ–Ω—Ü–µ –Ω–æ–≤–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å—Ç–∞–≤–∏—Ç—Å—è –ø–∞—Ä–∞ (0,0). 3) –ó–Ω–∞—á–µ–Ω–∏–µ Level –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ –ø–∞—Ä—É BC(Level), Magnitude(Level).   3.4. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–π —Ä–∞–∑–º–µ—Ä–æ–≤ –≤ —Å–∂–∞—Ç–æ–º –±–∏—Ç–æ–≤–æ–º –ø–æ—Ç–æ–∫–µ. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ –≤ —Å–∂–∞—Ç–æ–º –±–∏—Ç–æ–≤–æ–º –ø–æ—Ç–æ–∫–µ –¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö: BC(‚àÜDC), - –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π —Ç–æ–∫  Magnitude(‚àÜDC), - –∑–Ω–∞—á–µ–Ω–∏–µ –±–∏—Ç–æ–≤ –≤ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–º —Ç–æ–∫–µ (Run, BC(Level)), -—á–∏—Å–ª–æ –Ω—É–ª–µ–π, –∑–Ω–∞—á–µ–Ω–∏–µ 1-–≥–æ –Ω–µ–Ω—É–ª–µ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ Magnitude(Level). ‚Äì –∑–Ω–∞—á–µ–Ω–∏–µ –±–∏—Ç–æ–≤, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è 1-–≥–æ –Ω–µ–Ω—É–ª–µ–≤–æ–≥–æ –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è MyImage:  –†–∏—Å—É–Ω–æ–∫ 43 –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å PSNR –æ—Ç —Å—Ç–µ–ø–µ–Ω–∏ —Å–∂–∞—Ç–∏—è  –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–π:  –†–∏—Å—É–Ω–æ–∫ 44 –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–π –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è Lena:  –†–∏—Å—É–Ω–æ–∫ 45 –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å PSNR –æ—Ç —Å—Ç–µ–ø–µ–Ω–∏ —Å–∂–∞—Ç–∏—è  –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–π:  –†–∏—Å—É–Ω–æ–∫ 46 –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–π –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è Baboon:  –†–∏—Å—É–Ω–æ–∫ 47 –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å PSNR –æ—Ç —Å—Ç–µ–ø–µ–Ω–∏ —Å–∂–∞—Ç–∏—è  –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–π:  –†–∏—Å—É–Ω–æ–∫ 48 –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–π  –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ:  –ó–∞–¥–∞–Ω–∏–µ: –ü–æ—Å—Ç—Ä–æ–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ PSNR (—Å—Ç–µ–ø–µ–Ω—å —Å–∂–∞—Ç–∏—è) –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Y –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –∞ —Ç–∞–∫–∂–µ –Ω–∞–Ω–µ—Å–∏—Ç–µ –Ω–∞ —ç—Ç–∏ –≥—Ä–∞—Ñ–∏–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å PSNR (—Å—Ç–µ–ø–µ–Ω—å —Å–∂–∞—Ç–∏—è) –¥–ª—è 2-—É—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: 1) –ê–¥–¥–∏—Ç–∏–≤–Ω—ã–π –±–µ–ª—ã–π –≥–∞—É—Å—Å–æ–≤—Å–∫–∏–π —à—É–º –ø—Ä–∏ 64. 2) –ò–º–ø—É–ª—å—Å–Ω—ã–π —à—É–º —Å —Ä–∞–≤–Ω–æ–≤–µ—Ä–æ—è—Ç–Ω—ã–º –ø–æ—è–≤–ª–µ–Ω–∏–µ–º 0 –∏ 255. –°–¥–µ–ª–∞—Ç—å –≤—ã–≤–æ–¥—ã –ø–æ –ø–æ–ª—É—á–µ–Ω–Ω—ã–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º.  –†–∏—Å—É–Ω–æ–∫ 49 –ë–µ–ª—ã–π –≥–∞—É—Å—Å–æ–≤—Å–∫–∏–π —à—É–º —Å œÉ=64.  –†–∏—Å—É–Ω–æ–∫ 50 –ò–º–ø—É–ª—å—Å–Ω—ã–π —à—É–º —Å p_a=p_b=50%.   –†–∏—Å—É–Ω–æ–∫ 51 –°—Ä–∞–≤–Ω–µ–Ω–∏–µ PSNR –æ—Ç —Å—Ç–µ–ø–µ–Ω–∏ —Å–∂–∞—Ç–∏—è  –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –∏–º–ø—É–ª—å—Å–Ω—ã–π —à—É–º —Å–∂–∏–º–∞–µ—Ç—Å—è –∫—É–¥–∞ —Ö—É–∂–µ, —á–µ–º —á—Ç–æ-–ª–∏–±–æ –µ—â—ë. –ü—Ä–∏ —ç—Ç–æ–º, –µ—Å–ª–∏ —Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–∏ –∏—Å—Ö–æ–¥–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, —Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ ‚Äúbaboon‚Äù —Å—Ä–µ–¥–∏ –Ω–∏—Ö —Å–∂–∏–º–∞–µ—Ç—Å—è —è–≤–Ω–æ —Ö—É–∂–µ –≤—Å–µ–≥–æ, –∞ –ø—Ä–∏ —Å—Ç–µ–ø–µ–Ω–∏ —Å–∂–∞—Ç–∏—è –ø—Ä–∏–º–µ—Ä–Ω–æ 8% –∏–º–µ–µ—Ç PSNR —Ä–∞–≤–Ω—ã–π —á—É—Ç—å –º–µ–Ω—å—à–µ 25-—Ç–∏. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å–∂–∞—Ç–∏—è –Ω–∞–ø—Ä—è–º—É—é –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π —Å–∞–º–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.    –í—ã–≤–æ–¥—ã  –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã –º—ã –≤—ã—è—Å–Ω–∏–ª–∏ —á—Ç–æ —Ç–∞–∫–æ–µ –î–ö–ü –∏ –∫–∞–∫ –æ–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç: —Å –ø–æ–º–æ—â—å—é –Ω–µ–≥–æ –≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–µ–∫—Ç—Ä–∞–ª—å–Ω—ã—Ö –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–ª—è —Å–∂–∞—Ç–∏—è –∏ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è; –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞–∑–±–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –±–ª–æ–∫–∏ 8–•8 –∏ —ç–Ω–µ—Ä–≥–∏—è —Å–ø–µ–∫—Ç—Ä–∞ —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–∞ –≤ –≤–µ—Ä—Ö–Ω–µ–º –ª–µ–≤–æ–º —É–≥–ª—É (–∏–∑-–∑–∞ –∑–Ω–∞—á–µ–Ω–∏—è –∫–æ—Å–∏–Ω—É—Å–æ–≤ –≤ –ø–æ–∑–∏—Ü–∏–∏ (0;0)); –í–∏–∑—É–∞–ª—å–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –±–µ–∑ —Å–∏–ª—å–Ω—ã—Ö –ø–æ—Ç–µ—Ä—å (–Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ—Ç–µ—Ä–∏ —Å–≤—è–∑–∞–Ω—ã —Å –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º –¥—Ä–æ–±–Ω—ã—Ö —á–∞—Å—Ç–µ–π), –∑–Ω–∞—á–µ–Ω–∏—è PSNR —Ç–æ–∂–µ –æ—Å—Ç–∞—é—Ç—Å—è –¥–æ–≤–æ–ª—å–Ω–æ –≤—ã—Å–æ–∫–∏–º–∏; –ü—Ä–∏ —É–≤–µ–ª–∏—á–µ–Ω–∏–∏ R (—Ä–∞–¥–∏—É—Å–∞ –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏—è) —Å—Ç–µ–ø–µ–Ω—å —Å–∂–∞—Ç–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è, –Ω–æ –ø–æ—Ç–µ—Ä–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –±–û–ª—å—à–∏–µ (–Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–∞—Ö —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –∑–∞–º–µ—Ç–Ω—ã –≥—Ä–∞–Ω–∏—Ü—ã –±–ª–æ–∫–æ–≤ –∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ä–∞–∑–º—ã—Ç–∏–µ, –Ω–µ—á—ë—Ç–∫–∏–µ –∫–æ–Ω—Ç—É—Ä—ã), –∑–Ω–∞—á–µ–Ω–∏–µ PSNR —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è, –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è —É —è—Ä–∫–æ—Å—Ç–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Y, —Ç.–∫. –æ–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ  –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏. –ü—Ä–æ–¥–µ–ª–∞–≤ —Ä–∞–∑–Ω–æ—Å—Ç–Ω–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ, –≤–∏–¥–∏–º, —á—Ç–æ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ç–æ–∫–∞ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä—É—é—Ç—Å—è –æ–∫–æ–ª–æ –Ω—É–ª—è –∏ –∏—Ö –¥–∏–∞–ø–∞–∑–æ–Ω —Å—É–∂–∞–µ—Ç—Å—è. –†–∞–∑–Ω–æ—Å—Ç–Ω–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —É–º–µ–Ω—å—à–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ —ç–Ω—Ç—Ä–æ–ø–∏–∏, —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–∞–µ—Ç —Å–∂–∞—Ç–∏–µ. –ó–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ç–æ–∫–∞ –±–µ—Ä—É—Ç –≤ –∑–∏–≥–∑–∞–≥–æ–æ–±—Ä–∞–∑–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ. –ù–∞–∏–±–æ–ª—å—à–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –≤ —Å–∂–∞—Ç–æ–º –±–∏—Ç–æ–≤–æ–º –ø–æ—Ç–æ–∫–µ –æ—Ç–≤–æ–¥–∏—Ç—Å—è –Ω–∞ (Run, BC(Level)), —Ç–∞–∫ –∫–∞–∫ —ç—Ç–∏—Ö –ø–∞—Ä –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ. –° —É–≤–µ–ª–∏—á–µ–Ω–∏–µ–º —Ä–∞–¥–∏—É—Å–∞ R –º–µ–Ω—è–µ—Ç—Å—è —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ –≤ —Å–∂–∞—Ç–æ–º –±–∏—Ç–æ–≤–æ–º –ø–æ—Ç–æ–∫–µ. –ü—Ä–∏ –Ω–µ–±–æ–ª—å—à–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö —Å–∂–∞—Ç–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Å—Ç–∞—ë—Ç—Å—è –≤ –¥–æ–≤–æ–ª—å–Ω–æ —Ö–æ—Ä–æ—à–µ–º –∫–∞—á–µ—Å—Ç–≤–µ, –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö –∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö —Å–∂–∞—Ç–∏—è —Å–∏—Ç—É–∞—Ü–∏—è –ø—Ä—è–º–æ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–∞—è: –∫–∞—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—á–µ–Ω—å –ø–ª–æ—Ö–æ–µ, –≤–∏–¥–Ω—ã —Ä–∞–∑–º—ã—Ç–∏—è –∏ –≥—Ä–∞–Ω–∏—Ü—ã –±–ª–æ–∫–æ–≤.    –õ–∏—Å—Ç–∏–Ω–≥ –ø—Ä–æ–≥—Ä–∞–º–º—ã  #pragma once #include <vector> #include <fstream> #include <map> #include <iostream> using namespace std;  typedef struct BFH {  short bfType;  int bfSize;  short bfReserved1;  short bfOffBits;;  int bfReserved2; } MBITMAPFILEHEADER;  typedef struct BIH {  int biSize;  int biWidth;  int biHeight;  short int biPlanes;  short int biBitCount;  int biCompression;  int biSizeImage;  int biXPelsPerMeter;  int biYPelsPerMeter;  int biClrUsed;  int biClrImportant; } MBITMAPINFOHEADER; typedef struct RGB {  unsigned char rgbBlue;  unsigned char rgbGreen;  unsigned char rgbRed; }MRGBQUAD;  class YCbCr { public:  int N;  vector<vector<double>> Y;  vector<vector<double>> Cb;  vector<vector<double>> Cr;  vector<vector<int>> DC;  vector<vector<pair<unsigned char, int>>> codDC;  int height;  int width;  YCbCr(vector<vector<double>> Y, vector<vector<double>> Cb, vector<vector<double>> Cr) {   this->Y = Y;   this->Cb = Cb;   this->Cr = Cr;   height = Y.size();   width = Y[0].size();   N = 8;  }   YCbCr(MRGBQUAD** rgb, int height, int width) {   this->height = height;   this->width = width;   N = 8;   Y.resize(height);   Cb.resize(height);   Cr.resize(height);   for (int i = 0; i < height; i++) {    for (int j = 0; j < width; j++) {     Y[i].push_back(clipping((double)rgb[i][j].rgbRed * 0.299 + (double)rgb[i][j].rgbGreen * 0.587 + (double)rgb[i][j].rgbBlue * 0.114));     Cb[i].push_back(clipping(0.5643 * ((double)rgb[i][j].rgbBlue - Y[i][j]) + 128));     Cr[i].push_back(clipping(0.7132 * ((double)rgb[i][j].rgbRed - Y[i][j]) + 128));    }   }  }   YCbCr(int height, int width) {   this->height = height;   this->width = width;   Y.resize(height);   Cb.resize(height);   Cr.resize(height);   N = 8;  }   double calculteRandomDouble() {   return (double)(rand() % 2000 - 1000) / 1000;  }   void generateGaussianNoise(double sigma, int height, int width) {   vector<vector<double>> result(height);   for (int i = 0; i < height; i++) {    for (int j = 0; j < width; j += 2) {     double x = calculteRandomDouble();     double y = calculteRandomDouble();     double s = (x * x) + (y * y);     while (s > 1 || s == 0)     {      x = calculteRandomDouble();      y = calculteRandomDouble();      s = (x * x) + (y * y);     }     result[i].push_back(sigma * x * sqrt(-2 * log(s) / s));     result[i].push_back(sigma * y * sqrt(-2 * log(s) / s));    }   }   for (int i = 0; i < height; i++) {    for (int j = 0; j < width; j++) {     result[i][j] = clipping(result[i][j]);    }   }   Y = result;   Cb = result;    Cr = result;  }   double calculteRandomDoubleV2() {   return (double)(rand() % 1000) / 1000.0;  }  void generateImpulseNoise() {   vector<vector<double>> result(height);   for (int i = 0; i < height; i++) {    for (int j = 0; j < width; j++) {     double tmp = calculteRandomDoubleV2();     if (tmp >= 0.5) {      result[i].push_back(0);     } else {      result[i].push_back(255);     }    }   }   Y = result;   Cb = result;   Cr = result;  }   vector<vector<double>> getY() {   return Y;  }   vector<vector<double>> getCb() {   return Cb;  }   vector<vector<double>> getCr() {   return Cr;  }   vector<vector<int>> getDC() {   return DC;  }   vector<vector<pair<unsigned char, int>>> getCodDC() {   return codDC;  }   pair<unsigned char, int> getCategory(double diff) {   pair<unsigned char, int> res;   int mg = static_cast<int>(round(diff));   if (mg == 0) {    res.first = 0;    res.second = 0;    return res;   }   for (size_t i = 1; i < 16; i++) {    int m_min = 1 - pow(2, i);    int m_max = 0 - pow(2, i - 1);    int p_min = pow(2, i - 1);    int p_max = pow(2, i) - 1;    if ((mg >= m_min && mg <= m_max) || (mg >= p_min && mg <= p_max)) {     res.first = static_cast<unsigned char>(i);     res.second = mg;     return res;    }   }  }   void generateDC() {   size_t numOfBlocks = height / N;    vector<int> YDC;   vector<int> CbDC;   vector<int> CrDC;   for (size_t i = 0; i < numOfBlocks; i++) {    for (size_t j = 0; j < numOfBlocks; j++) {     YDC.push_back(static_cast<int>(Y[i * N][j * N]));     CbDC.push_back(static_cast<int>(Cb[i * N][j * N]));     CrDC.push_back(static_cast<int>(Cr[i * N][j * N]));    }   }   DC.push_back(YDC);   DC.push_back(CbDC);   DC.push_back(CrDC);  }   void codingDC() {   size_t numOfBlocks = DC[0].size();   double average_Y = 0, average_Cb = 0, average_Cr = 0;   for (size_t i = 0; i < numOfBlocks; i++) {    average_Y += DC[0][i];    average_Cb += DC[1][i];    average_Cr += DC[2][i];   }   average_Y /= numOfBlocks;   average_Cb /= numOfBlocks;   average_Cr /= numOfBlocks;    vector<pair<unsigned char, int>> vec_Y, vec_Cb, vec_Cr;   for (size_t i = 0; i < numOfBlocks; i++) {    if (i == 0) {     vec_Y.push_back(getCategory(DC[0][0] - average_Y));     vec_Cb.push_back(getCategory(DC[1][0] - average_Cb));     vec_Cr.push_back(getCategory(DC[2][0] - average_Cr));    }    else {     vec_Y.push_back(getCategory(DC[0][i] - DC[0][i - 1]));     vec_Cb.push_back(getCategory(DC[1][i] - DC[1][i - 1]));     vec_Cr.push_back(getCategory(DC[2][i] - DC[2][i - 1]));    }   }   codDC.push_back(vec_Y);   codDC.push_back(vec_Cb);   codDC.push_back(vec_Cr);  }   void buildHistogram(vector<vector<int>> DC, string fileName, size_t I) {   fstream oFile(fileName, ios_base::out);    for (size_t i = 0; i < DC[I].size(); i++) {    oFile << static_cast<double>(DC[I][i]) << " ";   }    oFile.close();  }   void buildHistogram(vector<vector<pair<unsigned char, int>>> codDC, string fileName, size_t I) {   fstream oFile(fileName, ios_base::out);    for (size_t i = 0; i < DC[I].size(); i++) {    oFile << static_cast<double>(codDC[I][i].second) << " ";   }    oFile.close();  }   void calculateEntropy() {   map<double, double> p_dc_Y, p_dc_Cb, p_dc_Cr, p_codDC_Y, p_codDC_Cb, p_codDC_Cr;   for (size_t i = 0; i < DC[0].size(); i++) {    // DC    if (p_dc_Y.find(DC[0][i]) != p_dc_Y.end())     p_dc_Y[DC[0][i]]++;    else p_dc_Y.insert(pair<double, double>(DC[0][i], 1));     if (p_dc_Cb.find(DC[1][i]) != p_dc_Cb.end())     p_dc_Cb[DC[1][i]]++;    else p_dc_Cb.insert(pair<double, double>(DC[1][i], 1));     if (p_dc_Cr.find(DC[2][i]) != p_dc_Cr.end())     p_dc_Cr[DC[2][i]]++;    else p_dc_Cr.insert(pair<double, double>(DC[2][i], 1));     if (p_codDC_Y.find(codDC[0][i].second) != p_codDC_Y.end())     p_codDC_Y[codDC[0][i].second]++;    else p_codDC_Y.insert(pair<double, double>(codDC[0][i].second, 1));     if (p_codDC_Cb.find(codDC[1][i].second) != p_codDC_Cb.end())     p_codDC_Cb[codDC[1][i].second]++;    else p_codDC_Cb.insert(pair<double, double>(codDC[1][i].second, 1));     if (p_codDC_Cr.find(codDC[2][i].second) != p_codDC_Cr.end())     p_codDC_Cr[codDC[2][i].second]++;    else p_codDC_Cr.insert(pair<double, double>(codDC[2][i].second, 1));   }    double H_dc_Y = 0, H_dc_Cb = 0, H_dc_Cr = 0, H_cdc_Y = 0, H_cdc_Cb = 0, H_cdc_Cr = 0;   for (pair<double, double> it : p_dc_Y) {    it.second /= DC[0].size();    if (!isinf(log2(it.second))) {     H_dc_Y += it.second * log2(it.second);    }   }   for (pair<double, double> it : p_dc_Cb) {    it.second /= DC[0].size();    if (!isinf(log2(it.second))) {     H_dc_Cb += it.second * log2(it.second);    }   }   for (pair<double, double> it : p_dc_Cr) {    it.second /= DC[0].size();    if (!isinf(log2(it.second))) {     H_dc_Cr += it.second * log2(it.second);    }   }   for (pair<double, double> it : p_codDC_Y) {    it.second /= DC[0].size();    if (!isinf(log2(it.second))) {     H_cdc_Y += it.second * log2(it.second);    }   }   for (pair<double, double> it : p_codDC_Cb) {    it.second /= DC[0].size();    if (!isinf(log2(it.second))) {     H_cdc_Cb += it.second * log2(it.second);    }   }   for (pair<double, double> it : p_codDC_Cr) {    it.second /= DC[0].size();    if (!isinf(log2(it.second))) {     H_cdc_Cr += it.second * log2(it.second);    }   }   cout << "Entropy of DC^q";   cout << "\nEntropy of Y: " << -H_dc_Y;   cout << "\nEntropy of Cb: " << -H_dc_Cb;   cout << "\nEntropy of Cr: " << -H_dc_Cr << endl;   cout << "Entropy of delta DC";   cout << "\nEntropy of Y: " << -H_cdc_Y;   cout << "\nEntropy of Cb: " << -H_cdc_Cb;   cout << "\nEntropy of Cr: " << -H_cdc_Cr << endl;  }   vector<vector<int>> generateAC(vector<vector<double>> I) {   vector<vector<int>> res;   for (size_t i = 0; i < height; i += N) {    for (size_t j = 0; j < width; j += N) {     vector<int> vec;     for (size_t diag = 0; diag < N; diag++) {      if (diag % 2 == 0) {       int x = diag;       int y = 0;       while (x >= 0) {        if (x == 0 && y == 0) break;        vec.push_back(static_cast<int>(round(I[i + x][j + y])));        x--;        y++;       }      }      else {       int x = 0;       int y = diag;       while (y >= 0) {        vec.push_back(static_cast<int>(round(I[i + x][j + y])));        x++;        y--;       }      }     }     for (size_t diag = 1; diag < N; diag++) {       if (diag % 2 == 0) {       int x = diag;       int y = N - 1;       while (x <= N - 1) {        vec.push_back(static_cast<int>(round(I[i + x][j + y])));        x++;        y--;       }      }      else {       int x = N - 1;       int y = diag;       while (y <= N - 1) {        vec.push_back(static_cast<int>(round(I[i + x][j + y])));        x--;        y++;       }      }     }     res.push_back(vec);    }   }   return res;  }   vector<vector<pair<unsigned char, pair<unsigned char, int>>>> codingAC(vector<vector<int>> AC) {   vector<vector<pair<unsigned char, pair<unsigned char, int>>>> res;   for (size_t i = 0; i < AC.size(); i++) {    vector<pair<unsigned char, pair<unsigned char, int>>> vec;    size_t lastNotNull = 0;    for (size_t j = 0; j < 63; j++) {     if (AC[i][j] != 0) lastNotNull = j;    }     for (size_t j = 0; j <= lastNotNull; j++) {     if (AC[i][j] != 0) {      pair<unsigned char, pair<unsigned char, int>> tmp;      tmp.first = 0;      tmp.second = getCategory(AC[i][j]);      vec.push_back(tmp);     }     else {      pair<unsigned char, pair<unsigned char, int>> tmp;      tmp.first = 1;      size_t j1 = j + 1;      size_t count = 1;      while (AC[i][j1] == 0 && count <= 16 && j1 < lastNotNull) {       j1++;       count++;       tmp.first++;      }      if (AC[i][j1] != 0 && count < 16) {       tmp.second = getCategory(AC[i][j1]);       vec.push_back(tmp);       j = j1;      }      else if (count == 16) {       tmp.first = 15;       tmp.second.first = 0;       tmp.second.second = 0;       vec.push_back(tmp);       j = j1;      }     }    }     pair<unsigned char, pair<unsigned char, int>> last;    last.first = 0;    last.second.first = 0;    last.second.second = 0;    vec.push_back(last);     res.push_back(vec);   }   return res;  }   size_t getNumOfPair(vector<vector<pair<unsigned char, pair<unsigned char, int>>>> codAC) {   size_t res = 0;   for (size_t i = 0; i < codAC.size(); i++) {    res += codAC[i].size();   }   return res;  }   double sizeOfStream(vector<vector<pair<unsigned char, pair<unsigned char, int>>>> codAC, size_t I) {   size_t Ndc = DC[0].size();   size_t Nrl = getNumOfPair(codAC);    size_t sum_BC_dDC = 0;   map<double, double> p_BC_dDC;   for (size_t i = 0; i < codDC[I].size(); i++) {    sum_BC_dDC += codDC[I][i].first;     if (p_BC_dDC.find(codDC[I][i].first) != p_BC_dDC.end()) {     p_BC_dDC[codDC[I][i].first]++;    }    else p_BC_dDC.insert(pair<double, double>(codDC[I][i].first, 1));   }     double H_BC_dDC = 0;   for (pair<double, double> it : p_BC_dDC) {    it.second /= codDC[I].size();    if (!isinf(log2(it.second))) {     H_BC_dDC += it.second * log2(it.second);    }   }   H_BC_dDC *= -1;    size_t sum_BC_level = 0;   map<pair<unsigned char, unsigned char>, double> p_rl;   for (size_t i = 0; i < codAC.size(); i++) {    for (size_t j = 0; j < codAC[i].size(); j++) {     sum_BC_level += codAC[i][j].second.first;      pair<unsigned char, unsigned char> tmp;     tmp.first = codAC[i][j].first;     tmp.second = codAC[i][j].second.first;     if (p_rl.find(tmp) != p_rl.end())      p_rl[tmp]++;     else p_rl.insert(pair<pair<unsigned char, unsigned char>, double>(tmp, 1));    }   }   double H_rl = 0;   for (pair<pair<unsigned char, unsigned char>, double> it : p_rl) {    it.second /= Nrl;    if (!isinf(log2(it.second))) {     H_rl += it.second * log2(it.second);    }   }   H_rl *= -1;    size_t res = (H_BC_dDC * Ndc) + sum_BC_dDC + (H_rl * Nrl) + sum_BC_level;    size_t origin = 8 * height * width;    double d = (double) origin / (double)res;    double bcdc = (double)((double)(H_BC_dDC * Ndc * 100) / (double)(res));   double magnitude = (double)((double)(sum_BC_dDC * 100) / (double)(res));   double runBClevel = (double)((H_rl * Nrl * 100) / (double)(res));   double magnitudeLevel = (double)((sum_BC_level * 100) / (double)(res));   cout << "BC(delta DC): "  << bcdc << "%" << endl;   cout << "Magnitude(delta DC): " << magnitude << "%" << endl;   cout << "(Run, BC(Level)): " << runBClevel << "%" << endl;   cout << "Magnitude(Level): " << magnitudeLevel << "%" << endl;   //cout << d << ", ";    return d;  }  private:  unsigned char clipping(double x) {   unsigned char res;   if (x > 255) {    res = 255;    return res;   }   else if (x < 0) {    res = 0;    return res;   }   return static_cast<unsigned char>(round(x));  }  };   #define _CRT_SECURE_NO_WARNINGS //#define _USE_MATH_DEFINES #include <stdio.h> //#include <stdlib.h> #include <string.h> #include <iostream> #include <fstream> //#include <vector> //#include <complex> //#include <map> #include <math.h> //#include <algorithm> //#include <time.h> #include "YCbCr.h" using namespace std; const double M_PI = 3.141592653589793;  MRGBQUAD** readBMP(FILE* f, MBITMAPFILEHEADER* bfh, MBITMAPINFOHEADER* bih) {  int k = 0;  k = fread(bfh, sizeof(*bfh) - 2, 1, f);  if (k == 0)  {   cout << "reading error";   return 0;  }   k = fread(bih, sizeof(*bih), 1, f);  if (k == NULL)  {   cout << "reading error";   return 0;  }  int height = abs(bih->biHeight);  int width = abs(bih->biWidth);  while (height % 8 != 0) {   height++;  }  while (width % 8 != 0) {   width++;  }  MRGBQUAD** rgb = new MRGBQUAD * [height];  for (int i = 0; i < height; i++)  {   rgb[i] = new MRGBQUAD[width];  }  int pad = 4 - (width * 3) % 4;  for (int i = 0; i < height; i++)  {   fread(rgb[i], sizeof(MRGBQUAD), width, f);   if (pad != 4)   {    fseek(f, pad, SEEK_CUR);   }  }  return rgb; }  void writeBMP(FILE* f, MRGBQUAD** rgbb, MBITMAPFILEHEADER* bfh, MBITMAPINFOHEADER* bih, int height, int width) {  bih->biHeight = height;  bih->biWidth = width;  fwrite(bfh, sizeof(*bfh) - 2, 1, f);  fwrite(bih, sizeof(*bih), 1, f);  int pad = 4 - ((width) * 3) % 4;  char buf = 0;  for (int i = 0; i < height; i++)  {   fwrite((rgbb[i]), sizeof(MRGBQUAD), width, f);   if (pad != 4)   {    fwrite(&buf, 1, pad, f);   }  } }    MRGBQUAD** getRed(MRGBQUAD** rgb, int height, int width) {  MRGBQUAD** g = new MRGBQUAD * [height];  for (int i = 0; i < height; i++)  {   g[i] = new MRGBQUAD[width];  }  for (int i = 0; i < height; i++) {   for (int j = 0; j < width; j++) {    g[i][j].rgbGreen = 0;    g[i][j].rgbBlue = 0;    g[i][j].rgbRed = rgb[i][j].rgbRed;   }  }  return g; }  MRGBQUAD** getGreen(MRGBQUAD** rgb, int height, int width) {  MRGBQUAD** g = new MRGBQUAD * [height];  for (int i = 0; i < height; i++)  {   g[i] = new MRGBQUAD[width];  }  for (int i = 0; i < height; i++) {   for (int j = 0; j < width; j++) {    g[i][j].rgbGreen = rgb[i][j].rgbGreen;    g[i][j].rgbBlue = 0;    g[i][j].rgbRed = 0;   }  }  return g; }  MRGBQUAD** calculateMirror(MRGBQUAD** rgb, int height, int width) {  MRGBQUAD** g = new MRGBQUAD * [height];  for (int i = 0; i < height; i++)  {   g[i] = new MRGBQUAD[width];  }  for (int i = 0; i < height; i++) {   for (int j = 0; j < width; j++) {    g[i][j].rgbRed = rgb[height - i - 1][j].rgbRed;    g[i][j].rgbGreen = rgb[height - i - 1][j].rgbGreen;    g[i][j].rgbBlue = rgb[height - i - 1][j].rgbBlue;   }  }  return g; }  MRGBQUAD** getBlue(MRGBQUAD** rgb, int height, int width) {  MRGBQUAD** g = new MRGBQUAD * [height];  for (int i = 0; i < height; i++)  {   g[i] = new MRGBQUAD[width];  }  for (int i = 0; i < height; i++) {   for (int j = 0; j < width; j++) {    g[i][j].rgbGreen = 0;    g[i][j].rgbBlue = rgb[i][j].rgbBlue;    g[i][j].rgbRed = 0;   }  }  return g; }  double calculateMathExpectation(vector<vector<double>> rgb, int height, int width) {  double res = 0;  double WH = (double)width * (double)height;  for (int i = 0; i < rgb.size(); i++) {   for (int j = 0; j < rgb[0].size(); j++) {    if (rgb[i].size() != 0)     res += rgb[i][j];   }  }  res = res / WH;  return res; }  double calculateDispersion(vector<vector<double>> rgb, int height, int width) {  double res = 0;  double WH = (double)width * (double)height;  double m = calculateMathExpectation(rgb, height, width);  for (int i = 0; i < rgb.size(); i++) {   for (int j = 0; j < rgb[0].size(); j++) {    if (rgb[i].size() != 0)     res += pow((rgb[i][j] - m), 2);   }  }  res = res / (WH - 1);  return sqrt(res); }  double calculateCorrelation(vector<vector<double>> A, vector<vector<double>> B, int height, int width) {  double d1 = calculateDispersion(A, height, width);  double d2 = calculateDispersion(B, height, width);  double m1 = calculateMathExpectation(A, height, width);  double m2 = calculateMathExpectation(B, height, width);  for (int i = 0; i < A.size(); i++) {   for (int j = 0; j < A[0].size(); j++) {    if (A[i].size() != 0 && B[i].size() != 0) {     A[i][j] = A[i][j] - m1;     B[i][j] = B[i][j] - m2;     A[i][j] = A[i][j] * B[i][j];    }   }  }  double res = calculateMathExpectation(A, height, width) / (d1 * d2);  return res; }  MRGBQUAD** getRGBfromY(vector<vector<double>> Y1, vector<vector<double>> Y2, int height, int width) {  MRGBQUAD** g = new MRGBQUAD * [height];  for (int i = 0; i < height; i++)  {   g[i] = new MRGBQUAD[width];  }  for (int i = 0; i < height; i++) {   for (int j = 0; j < width; j++) {    g[i][j].rgbGreen = Y1[i][j];    g[i][j].rgbBlue = Y2[i][j];    g[i][j].rgbRed = Y2[i][j];   }  }  return g; }  MRGBQUAD** getRGBfromY(vector<vector<double>> Y, int height, int width) {  MRGBQUAD** g = new MRGBQUAD * [height];  for (int i = 0; i < height; i++)  {   g[i] = new MRGBQUAD[width];  }  for (int i = 0; i < height; i++) {   for (int j = 0; j < width; j++) {    g[i][j].rgbGreen = Y[i][j];    g[i][j].rgbBlue = Y[i][j];    g[i][j].rgbRed = Y[i][j];   }  }  return g; }   unsigned char clipping(double x) {  unsigned char res;  if (x > 255) {   res = 255;   return res;  }  else if (x < 0) {   res = 0;   return res;  }  return static_cast<unsigned char>(round(x)); }  MRGBQUAD** getRGBfromYreverse(vector<vector<double>>& Y, vector<vector<double>>& Cb, vector<vector<double>>& Cr, int height, int width) {  MRGBQUAD** g = new MRGBQUAD * [height];  for (int i = 0; i < height; i++)  {   g[i] = new MRGBQUAD[width];  }  for (int i = 0; i < height; i++) {   for (int j = 0; j < width; j++) {    g[i][j].rgbGreen = clipping(Y[i][j] - 0.714 * (Cr[i][j] - 128.0) - 0.334 * (Cb[i][j] - 128.0));    g[i][j].rgbRed = clipping(Y[i][j] + 1.402 * (Cr[i][j] - 128.0));    g[i][j].rgbBlue = clipping(Y[i][j] + 1.772 * (Cb[i][j] - 128.0));   }  }  return g; }  double calculateSumSquareDifferences(vector<vector<double>>& firstArray, vector<vector<double>>& secondArray) {  double res = 0;  for (int i = 0; i < firstArray.size(); i++) {   for (int j = 0; j < firstArray[0].size(); j++) {    res += pow((firstArray[i][j] - secondArray[i][j]), 2);   }  }  return res; }  double calculatePSNR(vector<vector<double>> firstArray, vector<vector<double>> secondArray) {  double niz = calculateSumSquareDifferences(firstArray, secondArray);  double tmp = ((double)firstArray.size() * (double)firstArray[0].size() * pow((pow(2, 8) - 1), 2)) / niz;  double PSNR = 10 * log10(tmp);  return PSNR; }  void writeFile(const char* filename, vector<vector<double>>& array, int height, int width) {  ofstream fout1;  fout1.open(filename);  for (int i = 0; i < height; i++) {   for (int j = 0; j < width; j++) {    fout1 << array[i][j] << "\n";   }  }  fout1.close(); }  void writeFile(const char* filename, vector<vector<double>>& array, int height, int width, bool flag) {  ofstream fout1;  fout1.open(filename);  for (int i = 0; i < height; i++) {   for (int j = 0; j < width; j++) {    fout1 << array[i][j] << " ";   }   fout1 << "\n";  }  fout1.close(); }  void writeFile(const char* filename, vector<double>& array) {  ofstream fout1;  fout1.open(filename);  for (int i = 0; i < array.size(); i++) {   fout1 << (i) << " " << array[i] << "\n";  }  fout1.close(); }  void writeFile(const char* filename, vector<double>& array, vector<double> tmp) {  ofstream fout1;  fout1.open(filename);  for (int i = 0; i < array.size(); i++) {   fout1 << tmp[i] << " " << array[i] << "\n";  }  fout1.close(); }   double calculateEntropy(vector<vector<double>> rgb) {  double H = 0.0;  vector<double> p;  for (int i = 0; i < 256; i++) {   p.push_back(0);  }  for (int i = 0; i < rgb.size(); i++) {   for (int j = 0; j < rgb[0].size(); j++) {    int tmp = rgb[i][j];    tmp += 256;    tmp = tmp % 256;    p[tmp]++;   }  }  for (int i = 0; i < 256; i++) {   p[i] = p[i] / (double)(rgb.size() * rgb[0].size());  }   for (int i = 0; i < 256; i++) {   if (p[i] != 0)    H += (double)(p[i] * log2(p[i]));  }  H = (double)(-H);  return H; }  double calculateEntropyV2(vector<vector<double>>& rgb) {  double H = 0.0;  map<double, double> p;  double N = (double)rgb.size() * rgb[0].size();  double delta = 256 / (double)N;  for (int i = 0; i < rgb.size(); i++) {   for (int j = 0; j < rgb[0].size(); j++) {    if (p.find(rgb[i][j]) != p.end()) {     p[(size_t)rgb[i][j]]++;    }    else p.insert(pair<double, double>(rgb[i][j], 0));   }  }  for (pair<double, double> it : p) {   it.second /= (double)N;   if (!isinf(log2(it.second))) {    H += it.second * log2(it.second);   }  }  return (double)(-H); }  int mod(int a, int b) {  int res = a % b;  if (res < 0) {   res += b;  }  return res;  }   YCbCr DCT(int N, YCbCr& rgb) {  YCbCr res(rgb.Y, rgb.Cb, rgb.Cr);  double Ck = 0, Cl = 0;  for (size_t i = 0; i < rgb.height; i += N) {   for (size_t j = 0; j < rgb.width; j += N) {    for (size_t k = 0; k < N; k++) {     if (k == 0) Ck = sqrt(1.0 / N);     else Ck = sqrt(2.0 / N);     for (size_t l = 0; l < N; l++) {      if (l == 0) Cl = sqrt(1.0 / N);      else Cl = sqrt(2.0 / N);      res.Y[i + k][j + l] = Cl * Ck;      res.Cb[i + k][j + l] = Cl * Ck;      res.Cr[i + k][j + l] = Cl * Ck;      double tmpY = 0, tmpCb = 0, tmpCr = 0;      for (size_t f = 0; f < N; f++) {       for (size_t t = 0; t < N; t++) {        tmpY += rgb.Y[i + f][j + t] * cos(((2.0 * f + 1) * M_PI * k) / (2 * (double)N)) * cos(((2.0 * (double)t + 1) * M_PI * l) / (2.0 * (double)N));        tmpCb += rgb.Cb[i + f][j + t] * cos(((2.0 * f + 1) * M_PI * k) / (2 * (double)N)) * cos(((2.0 * (double)t + 1) * M_PI * l) / (2.0 * (double)N));        tmpCr += rgb.Cr[i + f][j + t] * cos(((2.0 * f + 1) * M_PI * k) / (2 * (double)N)) * cos(((2.0 * (double)t + 1) * M_PI * l) / (2.0 * (double)N));       }      }      res.Y[i + k][j + l] *= tmpY;      res.Cb[i + k][j + l] *= tmpCb;      res.Cr[i + k][j + l] *= tmpCr;       res.Y[i + k][j + l] = round(res.Y[i + k][j + l]);      res.Cb[i + k][j + l] = round(res.Cb[i + k][j + l]);      res.Cr[i + k][j + l] = round(res.Cr[i + k][j + l]);     }    }   }  }  return res; }  YCbCr ReverseDCT(int N, YCbCr& rgb) {  YCbCr res(rgb.Y, rgb.Cb, rgb.Cr);  double Ck = 0, Cl = 0;  for (size_t i = 0; i < rgb.height; i += N) {   for (size_t j = 0; j < rgb.width; j += N) {    for (size_t f = 0; f < N; f++) {     for (size_t t = 0; t < N; t++) {      double tmpY = 0, tmpCb = 0, tmpCr = 0;      for (size_t k = 0; k < N; k++) {       if (k == 0) Ck = sqrt(1.0 / N);       else Ck = sqrt(2.0 / N);       for (size_t l = 0; l < N; l++) {        if (l == 0) Cl = sqrt(1.0 / N);        else Cl = sqrt(2.0 / N);        tmpY += Ck * Cl * rgb.Y[i + k][j + l] * cos(((2.0 * (double)f + 1) * M_PI * (double)k) / (2.0 * (double)N)) * cos(((2.0 * (double)t + 1) * M_PI * l) / (2.0 * (double)N));        tmpCb += Ck * Cl * rgb.Cb[i + k][j + l] * cos(((2.0 * (double)f + 1) * M_PI * (double)k) / (2.0 * (double)N)) * cos(((2.0 * (double)t + 1) * M_PI * l) / (2.0 * (double)N));        tmpCr += Ck * Cl * rgb.Cr[i + k][j + l] * cos(((2.0 * (double)f + 1) * M_PI * (double)k) / (2.0 * (double)N)) * cos(((2.0 * (double)t + 1) * M_PI * l) / (2.0 * (double)N));       }      }      res.Y[i + f][j + t] = round(tmpY);      res.Cb[i + f][j + t] = round(tmpCb);      res.Cr[i + f][j + t] = round(tmpCr);     }    }   }  }  return res; }   void quantization(YCbCr& rgb, int R, int N) {  double Q[8][8];  for (size_t i = 0; i < N; i++) {   for (size_t j = 0; j < N; j++) {    Q[i][j] = 1.0 + (i + j) * R;   }  }   for (size_t i = 0; i < rgb.height; i += N) {   for (size_t j = 0; j < rgb.width; j += N) {    for (size_t k = 0; k < N; k++) {     for (size_t l = 0; l < N; l++) {      double tmpY = rgb.Y[i + k][j + l] / Q[k][l];      rgb.Y[i + k][j + l] = round(tmpY);      double tmpCb = rgb.Cb[i + k][j + l] / Q[k][l];      rgb.Cb[i + k][j + l] = round(tmpCb);      double tmpCr = rgb.Cr[i + k][j + l] / Q[k][l];      rgb.Cr[i + k][j + l] = round(tmpCr);     }    }   }  } }  void dequantization(YCbCr& rgb, int R, int N) {  double Q[8][8];  for (size_t i = 0; i < N; i++) {   for (size_t j = 0; j < N; j++) {    Q[i][j] = 1.0 + (i + j) * R;   }  }   for (size_t i = 0; i < rgb.height; i += N) {   for (size_t j = 0; j < rgb.width; j += N) {    for (size_t k = 0; k < N; k++) {     for (size_t l = 0; l < N; l++) {      double tmpY = rgb.Y[i + k][j + l] * Q[k][l];      rgb.Y[i + k][j + l] = round(tmpY);       double tmpCb = rgb.Cb[i + k][j + l] * Q[k][l];      rgb.Cb[i + k][j + l] = round(tmpCb);      double tmpCr = rgb.Cr[i + k][j + l] * Q[k][l];      rgb.Cr[i + k][j + l] = round(tmpCr);     }    }   }  } }  struct ImagesStruct {  vector<double> myImageY;  vector<double> lenaY;  vector<double> baboonY;  vector<double> myImageCb;  vector<double> lenaCb;  vector<double> baboonCb;  vector<double> myImageCr;  vector<double> lenaCr;  vector<double> baboonCr; };  void buildPSNRgraphics(YCbCr k, YCbCr l, YCbCr p, YCbCr& image1, YCbCr& image2, YCbCr& image3, ImagesStruct& res, int R) {  if (R != 0) {   quantization(k, R, 8);   quantization(l, R, 8);   quantization(p, R, 8);   dequantization(k, R, 8);   dequantization(l, R, 8);   dequantization(p, R, 8);  }  YCbCr kReverse = ReverseDCT(8, k);  YCbCr lReverse = ReverseDCT(8, l);  YCbCr pReverse = ReverseDCT(8, p);  res.myImageY.push_back(calculatePSNR(kReverse.Y, image1.Y));  res.lenaY.push_back(calculatePSNR(lReverse.Y, image2.Y));  res.baboonY.push_back(calculatePSNR(pReverse.Y, image3.Y));   res.myImageCb.push_back(calculatePSNR(kReverse.Cb, image1.Cb));  res.lenaCb.push_back(calculatePSNR(lReverse.Cb, image2.Cb));  res.baboonCb.push_back(calculatePSNR(pReverse.Cb, image3.Cb));   res.myImageCr.push_back(calculatePSNR(kReverse.Cr, image1.Cr));  res.lenaCr.push_back(calculatePSNR(lReverse.Cr, image2.Cr));  res.baboonCr.push_back(calculatePSNR(pReverse.Cr, image3.Cr));  }  vector<double> printDop(YCbCr DCT, int I) {  vector<double> result;  for (int i = 0; i <= 10; i++) {   YCbCr bmpFile(DCT);   cout << endl;  // cout << "R = " << i << endl;   quantization(bmpFile, i, 8);   bmpFile.generateDC();   bmpFile.codingDC();   vector<vector<int>> yAC = bmpFile.generateAC(bmpFile.getY());   vector<vector<pair<unsigned char, pair<unsigned char, int>>>> yCodAC = bmpFile.codingAC(yAC);   result.push_back(bmpFile.sizeOfStream(yCodAC, I));  }   return result; }  int main() {  MBITMAPFILEHEADER bfh1;  MBITMAPINFOHEADER bih1;  MBITMAPFILEHEADER bfh2;  MBITMAPINFOHEADER bih2;  MBITMAPFILEHEADER bfh3;  MBITMAPINFOHEADER bih3;  FILE* f1;   f1 = fopen("myImage.bmp", "rb");  if (f1 == NULL)  {   cout << "reading myImage error";   return 0;  }  MRGBQUAD** rgbMyImage = readBMP(f1, &bfh1, &bih1);  fclose(f1);  int heightMyImage = abs(bih1.biHeight);  int widthMyImage = abs(bih1.biWidth);  YCbCr myImage(rgbMyImage, heightMyImage, widthMyImage);    f1 = fopen("lena.bmp", "rb");  if (f1 == NULL)  {   cout << "reading lena error";   return 0;  }  MRGBQUAD** rgbLena = readBMP(f1, &bfh2, &bih2);  int heightLena = abs(bih2.biHeight);  int widthLena = abs(bih2.biWidth);  YCbCr lena(rgbLena, heightLena, widthLena);  fclose(f1);   f1 = fopen("baboon.bmp", "rb");  if (f1 == NULL)  {   cout << "reading baboon error";   return 0;  }  MRGBQUAD** rgbBaboon = readBMP(f1, &bfh3, &bih3);  int heightBaboon = abs(bih3.biHeight);  int widthBaboon = abs(bih3.biWidth);  YCbCr baboon(rgbBaboon, heightBaboon, widthBaboon);  fclose(f1);  //‚Ññ1.1  cout << "\n" << "#1.1\n";  YCbCr myImageDCT = DCT(8, myImage);  YCbCr myImageReverseDCT = ReverseDCT(8, myImageDCT); // cout << "My image:" << endl; // double myImageYPSNR = calculatePSNR(myImageReverseDCT.Y, myImage.Y); // double myImageCbPSNR = calculatePSNR(myImageReverseDCT.Cb, myImage.Cb); // double myImageCrPSNR = calculatePSNR(myImageReverseDCT.Cr, myImage.Cr); // //cout << "Y PSNR: " << myImageYPSNR << endl; // //cout << "Cb PSNR: " << myImageCbPSNR << endl; // //cout << "Cr PSNR: " << myImageCrPSNR << endl; // //writeBMP(fopen("Files\\1\\1.1\\MyImageReverseDCT.bmp", "wb"), getRGBfromYreverse(myImageReverseDCT.Y, myImageReverseDCT.Cb, myImageReverseDCT.Cr, heightMyImage, widthMyImage), &bfh1, &bih1, heightMyImage, widthMyImage); // // // YCbCr lenaDCT = DCT(8, lena); // YCbCr lenaReverseDCT = ReverseDCT(8, lenaDCT); // /*cout << "Lena" << endl; // cout << "Y PSNR: " << calculatePSNR(lenaReverseDCT.Y, lena.Y) << endl; // cout << "Cb PSNR: " << calculatePSNR(lenaReverseDCT.Cb, lena.Cb) << endl; // cout << "Cr PSNR: " << calculatePSNR(lenaReverseDCT.Cr, lena.Cr) << endl; // writeBMP(fopen("Files\\1\\1.1\\lenaReverseDCT.bmp", "wb"), getRGBfromYreverse(lenaReverseDCT.Y, lenaReverseDCT.Cb, lenaReverseDCT.Cr, heightLena, widthLena), &bfh2, &bih2, heightLena, widthLena); // */ // YCbCr baboonDCT = DCT(8, baboon); // YCbCr baboonReverseDCT = ReverseDCT(8, baboonDCT); // /*cout << "Baboon" << endl; // cout << "Y PSNR: " << calculatePSNR(baboon.Y, baboonReverseDCT.Y) << endl; // cout << "Cb PSNR: " << calculatePSNR(baboon.Cb, baboonReverseDCT.Cb) << endl; // cout << "Cr PSNR: " << calculatePSNR(baboon.Cr, baboonReverseDCT.Cr) << endl; // writeBMP(fopen("Files\\1\\1.1\\baboonReverseDCT.bmp", "wb"), getRGBfromYreverse(baboonReverseDCT.Y, baboonReverseDCT.Cb, baboonReverseDCT.Cr, heightBaboon, widthBaboon), &bfh3, &bih3, heightBaboon, widthBaboon); // */ ////‚Ññ2.1 // cout << "\n" << "#2.1\n"; // /*ImagesStruct imagesStruct; // for (int R = 0; R <= 10; R++) { //  buildPSNRgraphics(myImageDCT, lenaDCT, baboonDCT, myImage, lena, baboon, imagesStruct, R); // } // // writeFile("Files\\2\\YMyImagePSNR.txt", imagesStruct.myImageY); // writeFile("Files\\2\\YLenaPSNR.txt", imagesStruct.lenaY); // writeFile("Files\\2\\YBaboonPSNR.txt", imagesStruct.baboonY); // // writeFile("Files\\2\\CbMyImagePSNR.txt", imagesStruct.myImageCb); // writeFile("Files\\2\\CbLenaPSNR.txt", imagesStruct.lenaCb); // writeFile("Files\\2\\CbBaboonPSNR.txt", imagesStruct.baboonCb); // // writeFile("Files\\2\\CrMyImagePSNR.txt", imagesStruct.myImageCr); // writeFile("Files\\2\\CrLenaPSNR.txt", imagesStruct.lenaCr); // writeFile("Files\\2\\CrBaboonPSNR.txt", imagesStruct.baboonCr); // // YCbCr myImageDCT_c1(myImageDCT); // YCbCr myImageDCT_c2(myImageDCT); // // quantization(myImageDCT, 1, 8); // dequantization(myImageDCT, 1, 8); // myImageReverseDCT = ReverseDCT(8, myImageDCT); // writeBMP(fopen("Files\\2\\img\\myImageR1.bmp", "wb"), getRGBfromYreverse(myImageReverseDCT.Y, myImageReverseDCT.Cb, myImageReverseDCT.Cr, heightMyImage, widthMyImage), &bfh1, &bih1, heightMyImage, widthMyImage); // // quantization(myImageDCT_c1, 5, 8); // dequantization(myImageDCT_c1, 5, 8); // YCbCr myImageReverseDCT_c1 = ReverseDCT(8, myImageDCT_c1); // writeBMP(fopen("Files\\2\\img\\myImageR5.bmp", "wb"), getRGBfromYreverse(myImageReverseDCT_c1.Y, myImageReverseDCT_c1.Cb, myImageReverseDCT_c1.Cr, heightMyImage, widthMyImage), &bfh1, &bih1, heightMyImage, widthMyImage); // // quantization(myImageDCT_c2, 10, 8); // dequantization(myImageDCT_c2, 10, 8); // YCbCr myImageReverseDCT_c2 = ReverseDCT(8, myImageDCT_c2); // writeBMP(fopen("Files\\2\\img\\myImageR10.bmp", "wb"), getRGBfromYreverse(myImageReverseDCT_c2.Y, myImageReverseDCT_c2.Cb, myImageReverseDCT_c2.Cr, heightMyImage, widthMyImage), &bfh1, &bih1, heightMyImage, widthMyImage); // // YCbCr lenaDCT_c1(lenaDCT); // YCbCr lenaDCT_c2(lenaDCT); // // quantization(lenaDCT, 1, 8); // dequantization(lenaDCT, 1, 8); // lenaReverseDCT = ReverseDCT(8, lenaDCT); // writeBMP(fopen("Files\\2\\img\\lenaR1.bmp", "wb"), getRGBfromYreverse(lenaReverseDCT.Y, lenaReverseDCT.Cb, lenaReverseDCT.Cr, heightLena, widthLena), &bfh2, &bih2, heightLena, widthLena); // // quantization(lenaDCT_c1, 5, 8); // dequantization(lenaDCT_c1, 5, 8); // YCbCr lenaReverseDCT_c1 = ReverseDCT(8, lenaDCT_c1); // writeBMP(fopen("Files\\2\\img\\lenaR5.bmp", "wb"), getRGBfromYreverse(lenaReverseDCT_c1.Y, lenaReverseDCT_c1.Cb, lenaReverseDCT_c1.Cr, heightLena, widthLena), &bfh2, &bih2, heightLena, widthLena); //  // quantization(lenaDCT_c2, 10, 8); // dequantization(lenaDCT_c2, 10, 8); // YCbCr lenaReverseDCT_c2 = ReverseDCT(8, lenaDCT_c2); // writeBMP(fopen("Files\\2\\img\\lenaR10.bmp", "wb"), getRGBfromYreverse(lenaReverseDCT_c2.Y, lenaReverseDCT_c2.Cb, lenaReverseDCT_c2.Cr, heightLena, widthLena), &bfh2, &bih2, heightLena, widthLena); // // YCbCr baboonDCT_c1(baboonDCT); // YCbCr baboonDCT_c2(baboonDCT); // // quantization(baboonDCT, 1, 8); // dequantization(baboonDCT, 1, 8); // baboonReverseDCT = ReverseDCT(8, baboonDCT); // writeBMP(fopen("Files\\2\\img\\baboonR1.bmp", "wb"), getRGBfromYreverse(baboonReverseDCT.Y, baboonReverseDCT.Cb, baboonReverseDCT.Cr, heightBaboon, widthBaboon), &bfh3, &bih3, heightBaboon, widthBaboon); //  // quantization(baboonDCT_c1, 5, 8); // dequantization(baboonDCT_c1, 5, 8); // YCbCr baboonReverseDCT_c1 = ReverseDCT(8, baboonDCT_c1); // writeBMP(fopen("Files\\2\\img\\baboonR5.bmp", "wb"), getRGBfromYreverse(baboonReverseDCT_c1.Y, baboonReverseDCT_c1.Cb, baboonReverseDCT_c1.Cr, heightBaboon, widthBaboon), &bfh3, &bih3, heightBaboon, widthBaboon); //  // quantization(baboonDCT_c2, 10, 8); // dequantization(baboonDCT_c2, 10, 8); // YCbCr baboonReverseDCT_c2 = ReverseDCT(8, baboonDCT_c2); // writeBMP(fopen("Files\\2\\img\\baboonR10.bmp", "wb"), getRGBfromYreverse(baboonReverseDCT_c2.Y, baboonReverseDCT_c2.Cb, baboonReverseDCT_c2.Cr, heightBaboon, widthBaboon), &bfh3, &bih3, heightBaboon, widthBaboon); // */ // // //DC ////‚Ññ3.2 // cout << "\n" << "#3.2\n"; // cout << "MyImage:" << endl; // /*quantization(myImageDCT, 1, 8); // myImageDCT.generateDC(); // myImageDCT.codingDC(); // myImageDCT.buildHistogram(myImageDCT.getDC(), "Files\\3\\3.2\\MyImage\\YmyImageHistogramDC.txt", 0); // myImageDCT.buildHistogram(myImageDCT.getCodDC(), "Files\\3\\3.2\\MyImage\\YmyImageHistogramCodDC.txt", 0); // myImageDCT.buildHistogram(myImageDCT.getDC(), "Files\\3\\3.2\\MyImage\\CbmyImageHistogramDC.txt", 1); // myImageDCT.buildHistogram(myImageDCT.getCodDC(), "Files\\3\\3.2\\MyImage\\CbmyImageHistogramCodDC.txt", 1); // myImageDCT.buildHistogram(myImageDCT.getDC(), "Files\\3\\3.2\\MyImage\\CrmyImageHistogramDC.txt", 2); // myImageDCT.buildHistogram(myImageDCT.getCodDC(), "Files\\3\\3.2\\MyImage\\CrmyImageHistogramCodDC.txt", 2); // myImageDCT.calculateEntropy(); // // cout << "Lena:" << endl; // quantization(lenaDCT, 1, 8); // lenaDCT.generateDC(); // lenaDCT.codingDC(); // lenaDCT.buildHistogram(lenaDCT.getDC(), "Files\\3\\3.2\\Lena\\YlenaHistogramDC.txt", 0); // lenaDCT.buildHistogram(lenaDCT.getCodDC(), "Files\\3\\3.2\\Lena\\YlenaHistogramCodDC.txt", 0); // lenaDCT.buildHistogram(lenaDCT.getDC(), "Files\\3\\3.2\\Lena\\CblenaHistogramDC.txt", 1); // lenaDCT.buildHistogram(lenaDCT.getCodDC(), "Files\\3\\3.2\\Lena\\CblenaHistogramCodDC.txt", 1); // lenaDCT.buildHistogram(lenaDCT.getDC(), "Files\\3\\3.2\\Lena\\CrlenaHistogramDC.txt", 2); // lenaDCT.buildHistogram(lenaDCT.getCodDC(), "Files\\3\\3.2\\Lena\\CrlenaHistogramCodDC.txt", 2); // lenaDCT.calculateEntropy(); //  // cout << "Baboon:" << endl; // quantization(baboonDCT, 1, 8); // baboonDCT.generateDC(); // baboonDCT.codingDC(); // baboonDCT.buildHistogram(baboonDCT.getDC(), "Files\\3\\3.2\\Baboon\\YbaboonHistogramDC.txt", 0); // baboonDCT.buildHistogram(baboonDCT.getCodDC(), "Files\\3\\3.2\\Baboon\\YbaboonHistogramCodDC.txt", 0); // baboonDCT.buildHistogram(baboonDCT.getDC(), "Files\\3\\3.2\\Baboon\\CbBaboonHistogramDC.txt", 1); // baboonDCT.buildHistogram(baboonDCT.getCodDC(), "Files\\3\\3.2\\Baboon\\CbBaboonHistogramCodDC.txt", 1); // baboonDCT.buildHistogram(baboonDCT.getDC(), "Files\\3\\3.2\\Baboon\\CrBaboonHistogramDC.txt", 2); // baboonDCT.buildHistogram(baboonDCT.getCodDC(), "Files\\3\\3.2\\Baboon\\CrBaboonHistogramCodDC.txt", 2); // baboonDCT.calculateEntropy();*/ // // ////‚Ññ3.4 // cout << "\n" << "#3.4\n"; // YCbCr bmpFile(baboonDCT); // YCbCr bmpFile1(baboonDCT); //   // cout << endl; // cout << "R = " << 1 << endl; // quantization(bmpFile, 1, 8); // bmpFile.generateDC(); // bmpFile.codingDC(); // cout << "Y:" << endl; // vector<vector<int>> yAC = bmpFile.generateAC(bmpFile.getY()); // vector<vector<pair<unsigned char, pair<unsigned char, int>>>> yCodAC = bmpFile.codingAC(yAC); // bmpFile.sizeOfStream(yCodAC, 0); // cout << endl; // cout << "Cb:" << endl; // vector<vector<int>> cbAC = bmpFile.generateAC(bmpFile.getCb()); // vector<vector<pair<unsigned char, pair<unsigned char, int>>>> cbCodAC = bmpFile.codingAC(cbAC); // bmpFile.sizeOfStream(cbCodAC, 1); // cout << endl; // cout << "Cr:" << endl; // vector<vector<int>> crAC = bmpFile.generateAC(bmpFile.getCr()); // vector<vector<pair<unsigned char, pair<unsigned char, int>>>> crCodAC = bmpFile.codingAC(crAC); // bmpFile.sizeOfStream(crCodAC, 2); // cout << endl << endl; // cout << "R = " << 10 << endl; // quantization(bmpFile1, 10,8); // bmpFile1.generateDC(); // bmpFile1.codingDC(); // cout << "Y:" << endl; // vector<vector<int>> yAC1 = bmpFile1.generateAC(bmpFile1.getY()); // vector<vector<pair<unsigned char, pair<unsigned char, int>>>> yCodAC1 = bmpFile1.codingAC(yAC1); // bmpFile1.sizeOfStream(yCodAC1, 0); // cout << endl; // cout << "Cb:" << endl; // vector<vector<int>> cbAC1 = bmpFile1.generateAC(bmpFile1.getCb()); // vector<vector<pair<unsigned char, pair<unsigned char, int>>>> cbCodAC1 = bmpFile1.codingAC(cbAC1); // bmpFile1.sizeOfStream(cbCodAC1, 1); // cout << endl; // cout << "Cr:" << endl; // vector<vector<int>> crAC1 = bmpFile1.generateAC(bmpFile1.getCr()); // vector<vector<pair<unsigned char, pair<unsigned char, int>>>> crCodAC1 = bmpFile1.codingAC(crAC1); // bmpFile1.sizeOfStream(crCodAC1, 2); // // //–ì—Ä–∞—Ñ–∏–∫–∏ // cout << "grafics\n"; // for (int i = 0; i <= 10; i++) { //  YCbCr bmpFile(baboonDCT); //  cout << endl; //  cout << "R = " << i << endl; //  quantization(bmpFile, i, 8); //  bmpFile.generateDC(); //  bmpFile.codingDC(); //  vector<vector<int>> yAC = bmpFile.generateAC(bmpFile.getY()); //  vector<vector<pair<unsigned char, pair<unsigned char, int>>>> yCodAC = bmpFile.codingAC(yAC); //  bmpFile.sizeOfStream(yCodAC, 0); //  vector<vector<int>> cbAC = bmpFile.generateAC(bmpFile.getCb()); //  vector<vector<pair<unsigned char, pair<unsigned char, int>>>> cbCodAC = bmpFile.codingAC(cbAC); //  bmpFile.sizeOfStream(cbCodAC, 1); //  vector<vector<int>> crAC = bmpFile.generateAC(bmpFile.getCr()); //  vector<vector<pair<unsigned char, pair<unsigned char, int>>>> crCodAC = bmpFile.codingAC(crAC); //  bmpFile.sizeOfStream(crCodAC, 2); // } // // ImagesStruct imagesStructNew; // for (int R = 0; R <= 10; R++) { //  buildPSNRgraphics(myImageDCT, lenaDCT, baboonDCT, myImage, lena, baboon, imagesStructNew, R); // } // // writeFile("Files\\3\\3.4\\YMyImagePSNR.txt", imagesStructNew.myImageY, printDop(myImageDCT, 0)); // writeFile("Files\\3\\3.4\\YLenaPSNR.txt", imagesStructNew.lenaY, printDop(lenaDCT, 0)); // writeFile("Files\\3\\3.4\\YBaboonPSNR.txt", imagesStructNew.baboonY, printDop(baboonDCT, 0)); // // writeFile("Files\\3\\3.4\\CbMyImagePSNR.txt", imagesStructNew.myImageCb, printDop(myImageDCT, 1)); // writeFile("Files\\3\\3.4\\CbLenaPSNR.txt", imagesStructNew.lenaCb, printDop(lenaDCT, 1)); // writeFile("Files\\3\\3.4\\CbBaboonPSNR.txt", imagesStructNew.baboonCb, printDop(baboonDCT, 1)); // // writeFile("Files\\3\\3.4\\CrMyImagePSNR.txt", imagesStructNew.myImageCr, printDop(myImageDCT, 2)); // writeFile("Files\\3\\3.4\\CrLenaPSNR.txt", imagesStructNew.lenaCr, printDop(lenaDCT, 2)); // writeFile("Files\\3\\3.4\\CrBaboonPSNR.txt", imagesStructNew.baboonCr, printDop(baboonDCT, 2));   ////DOP!!!  ////My image  //  YCbCr tmpMyImage(rgbMyImage, heightMyImage, widthMyImage);  YCbCr myImageGauss(256, 512);  myImageGauss.generateGaussianNoise(64, 256, 512);  YCbCr myImageImpulse(rgbMyImage, heightMyImage, widthMyImage);  myImageImpulse.generateImpulseNoise();  YCbCr myImageGaussDCT = DCT(8, myImageGauss);  YCbCr myImageImpulseDCT = DCT(8, myImageImpulse);  myImageDCT = DCT(8, tmpMyImage);  writeBMP(fopen("Files\\dop\\myImageImpulse.bmp", "wb"), getRGBfromYreverse(myImageImpulse.Y, myImageImpulse.Y, myImageImpulse.Y, myImageImpulse.height, myImageImpulse.width), &bfh2, &bih2, myImageImpulse.height, myImage.width);   writeBMP(fopen("Files\\dop\\myImageGaussian.bmp", "wb"), getRGBfromYreverse(myImageGauss.Y, myImageGauss.Y, myImageGauss.Y, myImageGauss.height, myImageGauss.width), &bfh2, &bih2, 256, 512);  ImagesStruct imagesStruct1;  for (int R = 0; R <= 10; R++) {   buildPSNRgraphics(myImageDCT, myImageGaussDCT, myImageImpulseDCT, myImage, myImageGauss, myImageImpulse, imagesStruct1, R);  }  writeFile("Files\\dop\\myImageOriginalPSNR.txt", imagesStruct1.myImageY, printDop(myImageDCT, 0));  writeFile("Files\\dop\\myImageGaussianPSNR.txt", imagesStruct1.lenaY, printDop(myImageGaussDCT, 0));  writeFile("Files\\dop\\myImageImpulsePSNR.txt", imagesStruct1.baboonY, printDop(myImageImpulseDCT, 0)); 