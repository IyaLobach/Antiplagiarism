Преобразование БД Поликлиника» из на Рисунок Соединение с сервером Рисунок Создана пустая база данных Рисунок Преобразование БД Рисунок Схема данных Содержательная хранимая процедура с использованием цикла Процедура показывает по коду пациента информацию о ФИО пациента и его номере карты. Рисунок Листинг хранимой процедуры с использованием цикла Рисунок Вызов хранимой процедуры и результаты ее работы Триггер Триггер при добавлении в таблицу Пациенты записи проверяет, чтобы все поля были заполнены ФИО, Номер карты, Дата рождения, адрес, Если одно из полей не заполнено, то выдает текстовое сообщение Введите полные данные клиента!” и не записывает запись в таблицу. Рисунок Листинг триггера По запросу сработает триггер, который не даст создать запись без заполнения всех полей в таблице Пациенты. Рисунок Запрос на добавление записи только с ФИО Реализация аудита, используя триггер Создается таблица аудита, в которую будут добавляться записи с информацией о ФИО клиента, его номере карты и времени при изменении поля Номер карты в таблице Пациенты. Запись в таблицу добавляется при помощи триггера который реагирует на обновление поля Номер карты в таблице Пациенты и при его изменении добавляет запись изменения в таблицу аудита со временем изменения. Рисунок Оператор создания таблицы аудита Рисунок Листинг триггера Рисунок Изменения, отразившиеся в журнале аудита 